@{
    Layout = "~/_Layout.cshtml";
}

@section Title{
    XCity Brum
}

@section NavBar{
    <header class="bar bar-nav">
        <h1 class="title">X City Brum</h1>
    </header>
}

<style type="text/css">
    .table-view-cell > a:not(.btn) {
        display: inline-block !important;
    }
</style>

<div class="card">
    <ul class="table-view" id="app-index">
        <li class="table-view-cell table-view-divider">Favourite Stations</li>
        <!-- ko foreach: favourites -->
        <li class="table-view-cell star">
            <span class="icon pull-right" data-bind="css: starClass, click: toggleFavourite"></span>
            <a data-bind="attr: { href: '/station#!' + crsCode }, text: name" data-transition="slide-in"></a>
        </li>
        <!-- /ko -->
        <li class="table-view-cell table-view-divider">Nearest Stations</li>
        <!-- ko foreach: nearest -->
        <li class="table-view-cell star">
            <span class="icon pull-right" data-bind="css: starClass, click: toggleFavourite"></span>
            <a data-bind="attr: { href: '/station#!' + crsCode }, text: name" data-transition="slide-in"></a>
        </li>
        <!-- /ko -->
        <!-- ko if (nearest().length == 0)-->
        <li class="table-view-cell star">
            No stations found or location services disabled
        </li>
        <!-- /ko -->
        <li class="table-view-cell table-view-divider">Choose Other Station</li>
        <li class="table-view-cell star">
            <form>
                <input type="search" autocomplete="off" id="app-index-station-search" placeholder="Enter Station Name or Code">
            </form>
        </li>
        <!-- ko foreach: searchResults -->
        <li class="table-view-cell star">
            <span class="icon pull-right" data-bind="css: starClass, click: toggleFavourite"></span>
            <a data-bind="attr: { href: '/station#!' + crsCode }, text: name" data-transition="slide-in"></a>
        </li>
        <!-- /ko -->
    </ul>
</div>

@section Footer{
    <nav class="bar bar-tab">
        <a class="tab-item active" href="/">
            <span class="icon icon-home"></span>
            <span class="tab-label">Home</span>
        </a>
        <a class="tab-item" href="/favourites">
            <span class="icon icon-star-filled"></span>
            <span class="tab-label">Favourites</span>
        </a>
        <a class="tab-item" href="/settings">
            <span class="icon icon-gear"></span>
            <span class="tab-label">Settings</span>
        </a>
        <a class="tab-item" href="/about">
            <span class="icon icon-info"></span>
            <span class="tab-label">About</span>
        </a>
    </nav>
}

@section AdditionalJs{
    <script type="text/javascript">
        var loadedPage = pages.index;
    </script>
}